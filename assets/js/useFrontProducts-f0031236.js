import{d as a,r as i}from"./index-ea6d9255.js";import{a as u}from"./axios-aba6f0e0.js";import{s as l}from"./useSweetAlertStore-de1b9f26.js";const n=l(),{VITE_APP_URL:d,VITE_APP_PATH:P}={VITE_APP_URL:"https://vue3-course-api.hexschool.io",VITE_APP_PATH:"2259buyer",BASE_URL:"/FreshHanber/",MODE:"production",DEV:!1,PROD:!0},g=a("useProductStore",{state:()=>({products:[],groupProducts:[],isLoading:!0,actionPage:null}),actions:{loadingStatue(s){this.isLoading=s},getActionPage(){this.actionPage=i.options.history.location},getProducts(){u.get(`${d}/v2/api/${P}/products/all`).then(s=>{this.products=s.data.products,this.groupProducts=Object.values(this.gropuSetProducts(s.data.products)),this.getActionPage(),this.actionPage.includes("products")&&i.push(this.actionPage),this.isLoading=!1}).catch(s=>{n.swalError(s)})},gropuSetProducts(s){const e={};return s.forEach(c=>{const{mainTitle:t,select1:o,select2:r}=c;c.is_select===1?e[t]===void 0?e[t]={...c}:(o!==void 0&&(typeof e[t].select1=="string"?e[t].select1!==o&&(e[t].select1=[e[t].select1,o]):this.checkHas(e[t].select1,o)||(e[t].select1=[...e[t].select1,o])),typeof e[t].select2=="string"?e[t].select2!==r&&(e[t].select2=[e[t].select2,r]):this.checkHas(e[t].select2,r)||(e[t].select2=[...e[t].select2,r])):e[t]={...c}}),e},checkHas(s,e){return s.includes(e)}},getters:{}});export{g as u};
